(()=>{(()=>{let s=document.querySelector("[data-sidebar]"),d=document.querySelectorAll("[data-sidebar-toggle]"),r=document.querySelector("[data-sidebar-overlay]"),u=[...document.querySelectorAll("[data-group-toggle]")];if(!s||!d.length)return;let l=window.matchMedia("(min-width: 961px)"),a=()=>l.matches,c=e=>{r&&(r.dataset.visible=e?"true":"false")},n=({persist:e}={persist:!0})=>{s.setAttribute("data-open","true"),c(!a()),e&&a()&&localStorage.setItem("ghostesp-sidebar","open")},t=({persist:e}={persist:!0})=>{s.setAttribute("data-open","false"),c(!1),e&&a()&&localStorage.setItem("ghostesp-sidebar","closed")},f=()=>{s.getAttribute("data-open")==="true"?t():n()};d.forEach(e=>{e.addEventListener("click",f)}),r&&r.addEventListener("click",()=>t({persist:!1})),document.addEventListener("keydown",e=>{e.key==="Escape"&&s.getAttribute("data-open")==="true"&&!a()&&t({persist:!1})}),l.addEventListener("change",e=>{e.matches?localStorage.getItem("ghostesp-sidebar")==="closed"?t({persist:!1}):n({persist:!1}):t({persist:!1})}),a()?localStorage.getItem("ghostesp-sidebar")==="closed"?t({persist:!1}):n({persist:!1}):t({persist:!1});let S=e=>{let i=!(e.getAttribute("data-open")==="true");e.setAttribute("data-open",String(i)),e.setAttribute("aria-expanded",String(i));let p=e.closest("[data-group]");p&&(p.dataset.open=String(i));let g=e.parentElement.querySelector("[data-group-items]");g&&(g.dataset.open=String(i))};u.forEach(e=>{e.addEventListener("click",o=>{o.preventDefault(),S(o.currentTarget)})})})();})();
