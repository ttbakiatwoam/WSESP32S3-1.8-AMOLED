<!doctype html><html lang=en data-theme=auto><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Adjusting build options · GhostESP Documentation</title><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Share+Tech+Mono&display=swap" rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css rel=stylesheet><link rel=stylesheet href=/css/main.min.333343cc98c92f6015786bf32d605cb6c14c60642eacf8de3b94d3248f97d117.css><link rel=canonical href=/latest/development/build-py-kconfig/><meta name=description content="Use the build helper to edit GhostESP configuration options."><meta property="og:site_name" content="GhostESP Documentation"><meta property="og:type" content="article"><meta property="og:title" content="Adjusting build options"><meta property="og:description" content="Use the build helper to edit GhostESP configuration options."><meta property="og:url" content="/latest/development/build-py-kconfig/"><meta property="og:locale" content="en"><meta property="og:image" content="/images/ghostesp.1c3d9c47d752a1754fc78c41fddb238546a26cfcf2b07ddfe7a934b15cefba02.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Adjusting build options"><meta name=twitter:description content="Use the build helper to edit GhostESP configuration options."><meta name=twitter:image content="/images/ghostesp.1c3d9c47d752a1754fc78c41fddb238546a26cfcf2b07ddfe7a934b15cefba02.png"><script async src="https://www.googletagmanager.com/gtag/js?id=G-Q9CNW8QW7K"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Q9CNW8QW7K")</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","name":"GhostESP Documentation","description":"Use the build helper to edit GhostESP configuration options.","url":"\/latest\/development\/build-py-kconfig\/","author":{"@type":"Organization","name":"GhostESP Team"},"publisher":{"@type":"Organization","name":"GhostESP"},"datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z"}</script><script>(function(){const e=localStorage.getItem("ghostesp-theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.documentElement.setAttribute("data-theme",e),window.innerWidth>=992&&localStorage.getItem("sidebarState")==="open"&&document.write('<style id="sidebar-pre-init">.sidebar { margin-left: 0; }</style>')})()</script></head><body><header class=topbar><button class=topbar__toggle type=button onclick=toggleSidebar() aria-label="Toggle navigation" aria-expanded=false>
<svg class="icon icon-menu" viewBox="0 0 24 24" aria-hidden="true"><line class="icon-menu__line icon-menu__line--top" x1="5" y1="7" x2="19" y2="7"/><line class="icon-menu__line icon-menu__line--middle" x1="5" y1="12" x2="19" y2="12"/><line class="icon-menu__line icon-menu__line--bottom" x1="5" y1="17" x2="19" y2="17"/></svg>
</button>
<a href=/ class=topbar__brand><img src=/images/ghostesp.1c3d9c47d752a1754fc78c41fddb238546a26cfcf2b07ddfe7a934b15cefba02.png alt="GhostESP: Revival" class=topbar__logo></a><div class=topbar__actions><button class=topbar__theme type=button data-theme-toggle aria-label="Toggle theme">
<svg class="icon icon-theme" viewBox="0 0 24 24" data-theme-icon="" aria-hidden="true"><g class="icon-theme__sun"><circle cx="12" cy="12" r="5"/><g class="icon-theme__sun-rays"><line x1="12" y1="2.5" x2="12" y2="5.5"/><line x1="12" y1="18.5" x2="12" y2="21.5"/><line x1="4.5" y1="12" x2="7.5" y2="12"/><line x1="16.5" y1="12" x2="19.5" y2="12"/><line x1="5.6" y1="5.6" x2="7.8" y2="7.8"/><line x1="16.2" y1="16.2" x2="18.4" y2="18.4"/><line x1="5.6" y1="18.4" x2="7.8" y2="16.2"/><line x1="16.2" y1="7.8" x2="18.4" y2="5.6"/></g></g><g class="icon-theme__moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></g></svg></button></div></header><div class=app><aside class=sidebar id=sidebar data-current-version=latest><div class=sidebar__brand><a href=/ class=sidebar__title><img src=/images/ghostesp.1c3d9c47d752a1754fc78c41fddb238546a26cfcf2b07ddfe7a934b15cefba02.png alt="GhostESP: Revival" class=sidebar__logo></a></div><div class=sidebar__version><label for=sidebar-version class=sidebar__version-label>Firmware version</label>
<select id=sidebar-version class=sidebar__version-select data-version-select><option value=latest selected>Latest</option><option value=v1.9>v1.9</option><option value=v1.8.1>v1.8.1</option><option value=v1.8>v1.8</option></select></div><div class=sidebar__search><input type=search placeholder=Search autocomplete=off data-search-input data-search-index=/index.json><div class=sidebar__search-results data-search-results role=listbox></div></div><nav class=sidebar__nav><a href=/latest/ class="sidebar__link sidebar__link--active">Home</a><div class=sidebar__group><button class="sidebar__group-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#collapse-latestgetting-started aria-expanded=false aria-controls=collapse-latestgetting-started>
<span>Getting Started</span>
<span class=sidebar__group-icon aria-hidden=true></span></button><div class="collapse sidebar__group-items" id=collapse-latestgetting-started><a href=/latest/getting-started/ class=sidebar__sublink>Overview</a>
<a href=/latest/getting-started/installation-guide/ class=sidebar__sublink>Installation Guide</a>
<a href=/latest/getting-started/supported-hardware/ class=sidebar__sublink>Supported Hardware</a>
<a href=/latest/getting-started/command-line-reference/ class=sidebar__sublink>CLI Reference</a>
<a href=/latest/getting-started/dual-communication/ class=sidebar__sublink>GhostLink</a>
<a href=/latest/getting-started/screen-mirroring/ class=sidebar__sublink>Screen Mirroring</a>
<a href=/latest/getting-started/webui-guide/ class=sidebar__sublink>WebUI</a>
<a href=/latest/getting-started/faq/ class=sidebar__sublink>FAQ</a>
<a href=/latest/getting-started/sd-card/ class=sidebar__sublink>SD Card</a></div></div><div class=sidebar__group><button class="sidebar__group-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#collapse-latestwifi aria-expanded=false aria-controls=collapse-latestwifi>
<span>Wi-Fi</span>
<span class=sidebar__group-icon aria-hidden=true></span></button><div class="collapse sidebar__group-items" id=collapse-latestwifi><a href=/latest/wifi/ class=sidebar__sublink>Overview</a>
<a href=/latest/wifi/basics/ class=sidebar__sublink>Wi-Fi Basics</a>
<a href=/latest/wifi/survey/ class=sidebar__sublink>Scanning networks</a>
<a href=/latest/wifi/capture/ class=sidebar__sublink>Capturing packets</a>
<a href=/latest/wifi/deauth/ class=sidebar__sublink>Deauthentication Attacks</a>
<a href=/latest/wifi/wireshark/ class=sidebar__sublink>USB Dongle Mode (Wireshark)</a>
<a href=/latest/wifi/handshakes/ class=sidebar__sublink>Capturing handshakes</a>
<a href=/latest/wifi/evil-portal/ class=sidebar__sublink>Evil Portal</a>
<a href=/latest/wifi/karma/ class=sidebar__sublink>Karma Attack</a>
<a href=/latest/wifi/aerial-detection/ class=sidebar__sublink>Aerial Detection</a>
<a href=/latest/wifi/dial-connect/ class=sidebar__sublink>DIAL Connect</a></div></div><div class=sidebar__group><button class="sidebar__group-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#collapse-latestble aria-expanded=false aria-controls=collapse-latestble>
<span>Bluetooth LE</span>
<span class=sidebar__group-icon aria-hidden=true></span></button><div class="collapse sidebar__group-items" id=collapse-latestble><a href=/latest/ble/ class=sidebar__sublink>Overview</a>
<a href=/latest/ble/scanning/ class=sidebar__sublink>Scanning</a>
<a href=/latest/ble/gatt/ class=sidebar__sublink>GATT Discovery</a>
<a href=/latest/ble/attacks/ class=sidebar__sublink>Attacks</a></div></div><div class=sidebar__group><button class="sidebar__group-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#collapse-latestinfrared aria-expanded=false aria-controls=collapse-latestinfrared>
<span>Infrared</span>
<span class=sidebar__group-icon aria-hidden=true></span></button><div class="collapse sidebar__group-items" id=collapse-latestinfrared><a href=/latest/infrared/ class=sidebar__sublink>Overview</a>
<a href=/latest/infrared/learning/ class=sidebar__sublink>Learning Signals</a>
<a href=/latest/infrared/transmitting/ class=sidebar__sublink>Transmitting Signals</a>
<a href=/latest/infrared/dazzler/ class=sidebar__sublink>IR Dazzler</a>
<a href=/latest/infrared/files/ class=sidebar__sublink>Infrared Files</a>
<a href=/latest/infrared/hardware/ class=sidebar__sublink>Hardware Support</a></div></div><div class=sidebar__group><button class="sidebar__group-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#collapse-latestnfc aria-expanded=false aria-controls=collapse-latestnfc>
<span>NFC</span>
<span class=sidebar__group-icon aria-hidden=true></span></button><div class="collapse sidebar__group-items" id=collapse-latestnfc><a href=/latest/nfc/ class=sidebar__sublink>Overview</a>
<a href=/latest/nfc/chameleon-ultra/ class=sidebar__sublink>Chameleon Ultra</a>
<a href=/latest/nfc/scanning/ class=sidebar__sublink>Scanning</a>
<a href=/latest/nfc/saving/ class=sidebar__sublink>Saving Tags</a>
<a href=/latest/nfc/writing/ class=sidebar__sublink>Writing NTAG</a>
<a href=/latest/nfc/supported/ class=sidebar__sublink>Supported Tags</a></div></div><div class=sidebar__group><button class="sidebar__group-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#collapse-latestusb aria-expanded=false aria-controls=collapse-latestusb>
<span>USB</span>
<span class=sidebar__group-icon aria-hidden=true></span></button><div class="collapse sidebar__group-items" id=collapse-latestusb><a href=/latest/usb/ class=sidebar__sublink>Overview</a>
<a href=/latest/usb/keyboard/ class=sidebar__sublink>Keyboard Control</a></div></div><div class=sidebar__group><button class="sidebar__group-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#collapse-latestethernet aria-expanded=false aria-controls=collapse-latestethernet>
<span>Ethernet</span>
<span class=sidebar__group-icon aria-hidden=true></span></button><div class="collapse sidebar__group-items" id=collapse-latestethernet><a href=/latest/ethernet/ class=sidebar__sublink>Overview</a>
<a href=/latest/ethernet/connection/ class=sidebar__sublink>Connection Management</a>
<a href=/latest/ethernet/fingerprinting/ class=sidebar__sublink>Network Fingerprinting</a>
<a href=/latest/ethernet/scanning/ class=sidebar__sublink>Network Scanning</a>
<a href=/latest/ethernet/http/ class=sidebar__sublink>HTTP Requests</a></div></div><div class="sidebar__group group--open"><button class="sidebar__group-toggle sidebar__group-toggle--active" type=button data-bs-toggle=collapse data-bs-target=#collapse-latestdevelopment aria-expanded=true aria-controls=collapse-latestdevelopment>
<span>Development</span>
<span class=sidebar__group-icon aria-hidden=true></span></button><div class="collapse show sidebar__group-items" id=collapse-latestdevelopment><a href=/latest/development/ class=sidebar__sublink>Overview</a>
<a href=/latest/development/build-py-kconfig/ class="sidebar__sublink sidebar__sublink--active">Adjusting build options</a></div></div></nav></aside><div class=content><main class=content__body><article class=doc><header><h1>Adjusting build options</h1><p>Use the build helper to edit GhostESP configuration options.</p></header><aside class=doc__toc><h2>On this page</h2><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#1-launch-the-helper>1. Launch the helper</a></li><li><a href=#2-select-a-build-target>2. Select a build target</a></li><li><a href=#3-run-menuconfig-for-ghostesp-options>3. Run menuconfig for GhostESP options</a><ul><li><a href=#enabling-nfc-features>Enabling NFC features</a></li><li><a href=#enabling-displays>Enabling displays</a></li><li><a href=#configuring-lvgl-display-driver>Configuring LVGL display driver</a></li></ul></li><li><a href=#4-decide-where-to-store-your-changes>4. Decide where to store your changes</a></li><li><a href=#5-rebuild-firmware-optional>5. Rebuild firmware (optional)</a></li><li><a href=#tips>Tips</a></li></ul></nav></aside><p><code>build.py</code> wraps Espressif&rsquo;s build tools so you can change GhostESP feature flags without manual setup. Follow these steps to run <code>menuconfig</code>, persist changes, and rebuild.</p><h2 id=prerequisites>Prerequisites
<a class=heading-anchor href=#prerequisites aria-label="Copy link to this section"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><g stroke="currentColor" stroke-width="1.2" stroke-linecap="round" fill="none" transform="rotate(45 12 12)"><path d="M14 12c0 2.761-2.239 5-5 5H7A5 5 0 117 7h.5"/><path d="M10 12c0-2.761 2.239-5 5-5h2a5 5 0 010 10h-.5"/></g></svg></a></h2><ul><li>Python 3 installed with access to the command line.</li><li>ESP-IDF v5.4.1, v5.5 or v5.5.1 on disk. <code>build.py</code> can auto-detect common locations or also download it for you.</li><li>GhostESP repository cloned locally. Clone from GitHub and navigate into the project directory before running the script.</li></ul><h2 id=1-launch-the-helper>1. Launch the helper
<a class=heading-anchor href=#1-launch-the-helper aria-label="Copy link to this section"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><g stroke="currentColor" stroke-width="1.2" stroke-linecap="round" fill="none" transform="rotate(45 12 12)"><path d="M14 12c0 2.761-2.239 5-5 5H7A5 5 0 117 7h.5"/><path d="M10 12c0-2.761 2.239-5 5-5h2a5 5 0 010 10h-.5"/></g></svg></a></h2><p>From the project root:</p><pre tabindex=0><code>python build.py
</code></pre><p>Skip the interactive picker if you know your targets:</p><pre tabindex=0><code>python build.py --targets 2 3
</code></pre><p>Use <code>--targets all</code> to queue every board profile.</p><p>When prompted for ESP-IDF, confirm a detected path or allow the script to download v5.5. Use <code>--idf-path &lt;path></code> to skip the prompt.</p><h2 id=2-select-a-build-target>2. Select a build target
<a class=heading-anchor href=#2-select-a-build-target aria-label="Copy link to this section"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><g stroke="currentColor" stroke-width="1.2" stroke-linecap="round" fill="none" transform="rotate(45 12 12)"><path d="M14 12c0 2.761-2.239 5-5 5H7A5 5 0 117 7h.5"/><path d="M10 12c0-2.761 2.239-5 5-5h2a5 5 0 010 10h-.5"/></g></svg></a></h2><p>GhostESP ships configs for multiple boards inside <code>configs/</code>. The helper lists them with numeric IDs. Enter the index for the target whose Kconfig you want to edit (for example <code>esp32s3-generic</code>).</p><p>The script copies that entry&rsquo;s <code>sdkconfig.*</code> file into <code>sdkconfig</code> and <code>sdkconfig.defaults</code>, then runs <code>idf.py set-target</code> so menuconfig matches the board.</p><h2 id=3-run-menuconfig-for-ghostesp-options>3. Run menuconfig for GhostESP options
<a class=heading-anchor href=#3-run-menuconfig-for-ghostesp-options aria-label="Copy link to this section"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><g stroke="currentColor" stroke-width="1.2" stroke-linecap="round" fill="none" transform="rotate(45 12 12)"><path d="M14 12c0 2.761-2.239 5-5 5H7A5 5 0 117 7h.5"/><path d="M10 12c0-2.761 2.239-5 5-5h2a5 5 0 010 10h-.5"/></g></svg></a></h2><p>After applying the base config, <code>build.py</code> launches:</p><pre tabindex=0><code>idf.py menuconfig
</code></pre><p>Use the menu to browse <code>GhostESP Options → GhostESP Features</code>. Save and exit when finished.</p><h3 id=enabling-nfc-features>Enabling NFC features</h3><p>Open <strong>Ghost ESP Options → NFC Options</strong> to toggle the backends:</p><ul><li><strong>Enable PN532 NFC</strong> turns on the PN532 reader and exposes pin settings for SCL/SDA/IRQ/RST.</li><li><strong>Enable Chameleon Ultra NFC</strong> lets GhostESP use a Chameleon Ultra over BLE as the NFC front-end. This option defaults to enabled when BLE is compiled in.</li></ul><p>Turning on either backend automatically sets the internal <code>HAS_NFC</code> flag, which enables the UI and shared NFC code paths.</p><h3 id=enabling-displays>Enabling displays</h3><p>Navigate to <strong>Ghost ESP Options → Display Options</strong> for screen hardware:</p><ul><li>Toggle <strong>Enable Screen Support</strong> to bring the LCD driver into the build.</li><li>Adjust resolution via <strong>TFT Width</strong> and <strong>TFT Height</strong>, or enable board-specific panels such as <strong>Enable Waveshare LCD</strong>, <strong>Enable Crowtech LCD</strong>, <strong>Enable Sunton LCD</strong>, or <strong>Enable JC3248W535EN LCD</strong> depending on your hardware.</li><li>Optional helpers like <strong>Enable Touchscreen</strong>, <strong>Use 7-inch Display</strong>, and <strong>Enable Status Display</strong> expose extra pins and I2C settings when needed.</li></ul><h4 id=status-display-configuration>Status Display Configuration</h4><p>When <strong>Enable Status Display</strong> is enabled, you can configure:</p><ul><li><strong>Status Display SDA Pin</strong> and <strong>Status Display SCL Pin</strong>: I2C pins for the OLED display (default: GPIO 6/7 for shared IO expander bus, or GPIO 17/18 for Heltec V3).</li><li><strong>Status Display I2C Port</strong>: I2C controller port (0 or 1).</li><li><strong>Status Display I2C Address</strong>: I2C address (default: 0x3C for most OLED displays).</li><li><strong>Status Display Power Control Pin (Vext)</strong>: GPIO pin for power control. For Heltec V3, set this to GPIO 36. Set to -1 to disable.</li><li><strong>Status Display Reset Pin</strong>: GPIO pin for display reset. For Heltec V3, set this to GPIO 21. Set to -1 to disable.</li><li><strong>Rotate status display 180 degrees</strong>: Optional rotation setting.</li></ul><p>The status display shows system information, attack status, and idle animations when configured. It&rsquo;s particularly useful for boards like the Heltec V3 which includes an onboard OLED display.</p><h3 id=configuring-lvgl-display-driver>Configuring LVGL display driver</h3><p>After enabling <strong>Enable Screen Support</strong>, navigate to <strong>Component config → LVGL</strong> to configure the display driver:</p><ul><li>Under <strong>LVGL TFT Display</strong>, select your display controller (e.g., ILI9341, ST7789, etc.).</li><li>Configure <strong>LVGL Touch Input</strong> if your screen has a touchscreen.</li><li>Adjust <strong>LVGL Display Settings</strong> for rotation, color depth, and refresh rate as needed for your hardware.</li></ul><h2 id=4-decide-where-to-store-your-changes>4. Decide where to store your changes
<a class=heading-anchor href=#4-decide-where-to-store-your-changes aria-label="Copy link to this section"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><g stroke="currentColor" stroke-width="1.2" stroke-linecap="round" fill="none" transform="rotate(45 12 12)"><path d="M14 12c0 2.761-2.239 5-5 5H7A5 5 0 117 7h.5"/><path d="M10 12c0-2.761 2.239-5 5-5h2a5 5 0 010 10h-.5"/></g></svg></a></h2><p>Once menuconfig exits, <code>build.py</code> asks whether to write the new configuration back into the source tree:</p><ul><li><strong>Yes</strong> — Copies the generated <code>sdkconfig</code> into the original <code>configs/sdkconfig.*</code> file <em>and</em> into <code>sdkconfig.defaults</code>. Choose this when you want the board profile to permanently carry the new settings.</li><li><strong>No</strong> — Keeps <code>sdkconfig.defaults</code> updated for the current build only without altering the source file. This is useful when experimenting.</li></ul><p>Regardless of your choice, the helper syncs <code>sdkconfig.defaults</code> so the next build uses the options you just saved.</p><h2 id=5-rebuild-firmware-optional>5. Rebuild firmware (optional)
<a class=heading-anchor href=#5-rebuild-firmware-optional aria-label="Copy link to this section"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><g stroke="currentColor" stroke-width="1.2" stroke-linecap="round" fill="none" transform="rotate(45 12 12)"><path d="M14 12c0 2.761-2.239 5-5 5H7A5 5 0 117 7h.5"/><path d="M10 12c0-2.761 2.239-5 5-5h2a5 5 0 010 10h-.5"/></g></svg></a></h2><p>If you continue through the prompts, <code>build.py</code> can clean, rebuild, and package artifacts automatically. Otherwise, rerun later with:</p><pre tabindex=0><code>python build.py --targets &lt;index&gt;
</code></pre><p>The script will reuse the modified <code>sdkconfig.defaults</code> unless you overwrite it.</p><h2 id=tips>Tips
<a class=heading-anchor href=#tips aria-label="Copy link to this section"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><g stroke="currentColor" stroke-width="1.2" stroke-linecap="round" fill="none" transform="rotate(45 12 12)"><path d="M14 12c0 2.761-2.239 5-5 5H7A5 5 0 117 7h.5"/><path d="M10 12c0-2.761 2.239-5 5-5h2a5 5 0 010 10h-.5"/></g></svg></a></h2><ul><li>Running <code>python build.py --no-auto-download</code> disables the ESP-IDF fetch prompt if you prefer manual installs only.</li><li>Delete <code>sdkconfig</code> and <code>sdkconfig.defaults</code> to revert to the pristine profile before another run.</li><li>Use separate directories or virtual environments per ESP-IDF version to avoid mixing toolchains when switching targets.</li></ul></article></main><footer class=content__footer><p>website made with love by jay candel &lt;3</p></footer></div></div><div class=sidebar__overlay id=overlay onclick=toggleSidebar()></div><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js></script><script src=https://cdn.jsdelivr.net/npm/fuse.js@7.0.0/dist/fuse.min.js></script><script src=/js/search.ef50286594fda7181140155c44b192feda3337818f68d846b1c63109da0b2251.js defer></script><script src=/js/sidebar.9132b3f444f2ebe86edbf6429f4c0f533f27e02b1ac29f2b450abe1616f06852.js defer></script><script src=/js/theme.0d48f97778d5930c369632719af2ad7eb9f6a039eedd5cc721e5dbda6e9d8925.js defer></script></body></html>